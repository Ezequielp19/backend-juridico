"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1788],{1788:(M,d,s)=>{s.r(d),s.d(d,{HomePage:()=>I});var l=s(1528),u=s(1368),g=s(4716),r=s(2112),e=s(4496),m=s(1496),C=s(9944),p=s(4036),h=s(2508);function f(a,_){if(1&a){const i=e.KQA();e.I0R(0,"ion-card")(1,"ion-item")(2,"ion-label"),e.OEk(3,"Nombre"),e.C$Y(),e.I0R(4,"ion-input",14),e.iHE("ngModelChange",function(o){e.usT(i);const t=e.GaO();return e.kNx(t.newUser.nombre,o)||(t.newUser.nombre=o),e.CGJ(o)}),e.C$Y()(),e.I0R(5,"ion-item")(6,"ion-label"),e.OEk(7,"Apellido"),e.C$Y(),e.I0R(8,"ion-input",14),e.iHE("ngModelChange",function(o){e.usT(i);const t=e.GaO();return e.kNx(t.newUser.apellido,o)||(t.newUser.apellido=o),e.CGJ(o)}),e.C$Y()(),e.I0R(9,"ion-item")(10,"ion-label"),e.OEk(11,"Direcci\xf3n"),e.C$Y(),e.I0R(12,"ion-input",14),e.iHE("ngModelChange",function(o){e.usT(i);const t=e.GaO();return e.kNx(t.newUser.direccion,o)||(t.newUser.direccion=o),e.CGJ(o)}),e.C$Y()(),e.I0R(13,"ion-item")(14,"ion-label"),e.OEk(15,"Edad"),e.C$Y(),e.I0R(16,"ion-input",15),e.iHE("ngModelChange",function(o){e.usT(i);const t=e.GaO();return e.kNx(t.newUser.edad,o)||(t.newUser.edad=o),e.CGJ(o)}),e.C$Y()()()}if(2&a){const i=e.GaO();e.yG2(4),e.OKB("ngModel",i.newUser.nombre),e.yG2(4),e.OKB("ngModel",i.newUser.apellido),e.yG2(4),e.OKB("ngModel",i.newUser.direccion),e.yG2(4),e.OKB("ngModel",i.newUser.edad)}}function O(a,_){if(1&a){const i=e.KQA();e.I0R(0,"div",8)(1,"ion-button",16),e.qCj("click",function(){e.usT(i);const o=e.GaO();return e.CGJ(o.save())}),e.OEk(2," Guardar "),e.C$Y()()}}function E(a,_){1&a&&(e.I0R(0,"div",3),e.wR5(1,"ion-spinner",17),e.C$Y())}function P(a,_){if(1&a){const i=e.KQA();e.I0R(0,"ion-item")(1,"ion-label"),e.OEk(2),e.I0R(3,"p"),e.OEk(4),e.C$Y(),e.I0R(5,"p"),e.OEk(6),e.C$Y(),e.I0R(7,"p"),e.OEk(8),e.C$Y(),e.I0R(9,"p"),e.OEk(10),e.C$Y()(),e.I0R(11,"ion-buttons",4)(12,"ion-button",18),e.qCj("click",function(){const t=e.usT(i).$implicit,c=e.GaO();return e.CGJ(c.edit(t))}),e.wR5(13,"ion-icon",19),e.C$Y(),e.I0R(14,"ion-button",1),e.qCj("click",function(){const t=e.usT(i).$implicit,c=e.GaO();return e.CGJ(c.delete(t))}),e.wR5(15,"ion-icon",20),e.C$Y(),e.I0R(16,"ion-button",18),e.qCj("click",function(){const t=e.usT(i).$implicit,c=e.GaO();return e.CGJ(c.ver(t))}),e.wR5(17,"ion-icon",21),e.C$Y()()()}if(2&a){const i=_.$implicit;e.yG2(2),e.oRS(" Nombre: ",i.nombre," "),e.yG2(2),e.oRS("Apellido: ",i.apellido,""),e.yG2(2),e.oRS("Direcci\xf3n: ",i.direccion,""),e.yG2(2),e.oRS("DNI: ",i.dni,""),e.yG2(2),e.oRS("Edad: ",i.edad,"")}}let I=(()=>{var a;class _{constructor(n,o,t,c){this.firestoreService=n,this.navCtrl=o,this.authService=t,this.router=c,this.users=[],this.newUser=this.initUser(),this.cargando=!1,this.showForm=!1}ngOnInit(){this.loadUsers(),this.getUser()}loadUsers(){this.firestoreService.getCollectionChanges("Usuarios").subscribe(n=>{n&&(this.users=n)})}initUser(){return{id:"",nombre:"",apellido:"",direccion:"",dni:"",edad:0,cuit:"",claveFiscal:"",password:""}}save(){var n=this;return(0,l.c)(function*(){n.cargando=!0;const o=n.newUser.id;yield n.firestoreService.createUserWithSubcollections(n.newUser,o),n.cargando=!1,n.newUser=n.initUser(),n.showForm=!1})()}edit(n){var o=this;return(0,l.c)(function*(){console.log(n.id),o.navCtrl.navigateForward(`/home/${n.id}`)})()}delete(n){var o=this;return(0,l.c)(function*(){try{o.cargando=!0,console.log(n.id),yield o.firestoreService.deleteDocumentID("Usuarios",n.id),o.cargando=!1}catch(t){o.cargando=!1,console.error("Error al eliminar usuario:",t)}})()}getUser(){var n=this;return(0,l.c)(function*(){const o=yield n.firestoreService.getAuthUser();if(o){const t=o.uid,c=yield n.firestoreService.getDocument("Usuarios/"+t);n.user=c.data()}})()}toggleForm(){this.showForm=!this.showForm}navigateToPage(n){}ver(n){this.navCtrl.navigateForward(`/ver-usuario/${n.id}`)}goBack(){window.history.back()}logout(){var n=this;return(0,l.c)(function*(){yield n.authService.logout(),n.router.navigate(["/login"])})()}}return(a=_).\u0275fac=function(n){return new(n||a)(e.GI1(m.Y),e.GI1(C.wX),e.GI1(p.o),e.GI1(h.E5))},a.\u0275cmp=e.In1({type:a,selectors:[["app-home"]],standalone:!0,features:[e.UHJ],decls:19,vars:4,consts:[["slot","start"],[3,"click"],["name","arrow-back"],[2,"text-align","center"],["slot","end"],["fill","clear",1,"logout-button",3,"click"],["name","log-out-outline","slot","icon-only"],[1,"ion-padding"],[2,"margin","20px"],["expand","block","shape","round","color","primary",3,"click"],[4,"ngIf"],["style","margin: 20px;",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["expand","block","shape","round","color","success",3,"click"],["name","bubbles"],[1,"primary",3,"click"],["slot","icon-only","name","create",1,"primary"],["slot","icon-only","name","trash",1,"danger"],["slot","icon-only","name","create",1,"secondary"]],template:function(n,o){1&n&&(e.I0R(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.qCj("click",function(){return o.goBack()}),e.wR5(4,"ion-icon",2),e.C$Y()(),e.I0R(5,"ion-title",3),e.OEk(6,"Usuarios"),e.C$Y(),e.I0R(7,"ion-buttons",4)(8,"ion-button",5),e.qCj("click",function(){return o.logout()}),e.wR5(9,"ion-icon",6),e.C$Y()()()(),e.I0R(10,"ion-content",7)(11,"div",8)(12,"ion-button",9),e.qCj("click",function(){return o.toggleForm()}),e.OEk(13," Agregar Usuario "),e.C$Y()(),e.yuY(14,f,17,4,"ion-card",10)(15,O,3,0,"div",11)(16,E,2,0,"div",12),e.I0R(17,"ion-list"),e.yuY(18,P,18,5,"ion-item",13),e.C$Y()()),2&n&&(e.yG2(14),e.E7m("ngIf",o.showForm),e.yG2(),e.E7m("ngIf",o.showForm),e.yG2(),e.E7m("ngIf",o.cargando),e.yG2(2),e.E7m("ngForOf",o.users))},dependencies:[u.MD,u.ay,u.u_,g.y,g.ue,g._G,r.wZ,r.sn,r.GS,r.KC,r._i,r.wB,r.Ko,r.A5,r.Yb,r.QR,r.OC,r.YA,r.tM,r.Md,r.Ch,r.qG],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-button[_ngcontent-%COMP%]{--color: auto}ion-icon.primary[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}ion-icon.danger[_ngcontent-%COMP%]{color:var(--ion-color-danger)!important}"]}),_})()}}]);